<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>JavaScript Arrow Functions</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"></script>

</head>

<body>
	<script>

		//Normal Js function expression
		document.write("<h1>Normal JS Functions</h1>");

		function calc0(x, y) {

			return x * y;
		}

		document.write("Normal FUcntion: " + calc0(5, 3));//15

		document.write("<h1>Arrow Functions</h1>");


		// arrow function

		let clac = (x, y) => x + y;

		document.write("Arrow fyunction :" + clac(5, 2))
		console.log(clac(10, 100));


		let greet = () => document.write(" <br> hello arr functionm");

		greet()

		//  document.write('<br>' + greet());
		//  console.log(greet());



		let welcome = () => document.write("<br>" + x);
		document.write('helllo 2')



	</script>
	<br>
	<hr>
	<!-- dom manipulation -->

	<div class="container card bg-secondary">
		<!-- <input id="id1" type="number" min="100" max="300" required>
<button onclick="myFunction()">OK</button> -->

		<h2>DOM Manipulation</h2>
		<input id='btn3' type="button" onclick="createLoginControls();" value="Create Login Controls"></input>
		<br>
		<br>
		<div id="dvLogin"></div>
		<script>

			function createLoginControls() {
				//create a Label - User Name
				const userNameTag0 = document.createElement("label");
				userNameTag0.innerText = "User Name";

				const userNameTag = document.createElement("input");
				//userNameTag.type = "text";

				const passwordTag0 = document.createElement("label");
				passwordTag0.innerText = "Password";

				const passwordTag = document.createElement("input");

				const userNameTag2 = document.createElement("input");
				userNameTag2.type = "button";
				userNameTag2.value = "Login to Continue"

				const currentDiv = document.getElementById("dvLogin");
				//document.body.insertBefore(userNameTag0, currentDiv);
				//document.body.insertBefore(userNameTag, currentDiv);

				currentDiv.innerHTML = "";

				currentDiv.appendChild(userNameTag0);
				currentDiv.appendChild(userNameTag);
				currentDiv.appendChild(passwordTag0);
				currentDiv.appendChild(passwordTag);
				currentDiv.appendChild(userNameTag2);
			}



		</script>
	</div>


	<p id="demo"></p>

	<script>
		function myFunction() {
			const inpObj = document.getElementById("id1");
			if (!inpObj.checkValidity()) {
				document.getElementById("demo").innerHTML = inpObj.validationMessage;
			}
		}
	</script>



	<script>
		//Promise
		//1-Pending State
		//2-Fullfilled State
		//3-Rejected State
		document.write("hello world!")

		function getUserDetailPromise(id) {

			return new Promise((resolve, reject) => {

				setTimeout(() => {

					document.write("Fetching User data....");
					console.log("Fetching User data....");

					//in realtime, API will give these user details as JSON
					let data =
					{
						id: "ola1001",
						custId: 100,
						name: "Arun"
					};

					resolve(data);
					//reject(data);

				}, 3000);
			});
		}


	</script>

	<!-- <script>

let x=5
let y=6
let fun = (x,y)=> {
  x + y
}
document.write(5,3)

setTimeout(() => {
		  document.getElementById("demo").innerHTML = ("Inside Timeout fucntion - Thread 2 - Print 2");		  
		}, 1000);//1000 milli seconds = 1 second


    
    var printEmployeeName = function(name){  // My callback method
		  document.write("<br>Hello Employee(this is from a call back function): " + name);
		};
    printEmployeeName('bl')

    function printName(name) {
			document.write('<br>Hello Employee (from Callback function)' + ' ' + name);
			console.log('<br>Hello Employee (from Callback function)' + ' ' + name);
		}
    printName('now')
		//Syntax
		//setTimeout(function, milliseconds);
		//setTimeout(function, milliseconds, parameter1, ....paramenterN);
		//When you pass additional parameters to the setTimeout() method, these parameters (parameter1, parameter2, etc.) will be passed to the specified function
		
		// calling the function after 5 seconds
		// setTimeout(greet, 3000, 'Vijay', printName);
		//setTimeout(greet, 5000, 'Arun Kumar');
		
    async function getNearestCabsUsingAsyncAwait()
		{			
			try
			{
				let customerId = 100;
				const result1 = await getUserDetailPromise(customerId);
				
				document.write("Async - OLA User Name: " + result1.name + "<br>");
				
				const result2 = await getAddressPromise(result1.name);
				//const result2 = await getAddressPromise('');
				
				document.write("Async - Address: " + result2.address1 + ", " + result2.city + ", " + result2.latlong + "<br>");
				
				const result3 = await getNearestCabsPromise(result2.latlong);
				
				document.write("Great!, Cab Confirmed<br>");
				document.write("Async - Cab Details: " + result3.cabid + ", " + result3.cabRoute + ", Car #:" + result3.carNo + ", Driver Mobile #:" + result3.driverMobile + "<br>");
				
				console.log(result3);
			}
			catch(err)
			{
				document.write("Error occured in the getNearestCabsPromiseAsync fucntion: " + err + "<br>");
				console.log("Error occured in getNearestCabsPromiseAsync fucntion: " + err);
			}
		}
		
		getNearestCabsUsingAsyncAwait();

</script> -->
	<br>
	<hr>
	<h1> promise concept</h1>
	<p>--------------------------------------</p>

	<script>
		function tatkalBooking() {
			return new Promise((resolve, reject) => {
				//in realtime, we will call Ticket booking API here
				let bookingStatus = false;

				if (bookingStatus)
					resolve(800);
				else
					reject();
			});
		}
		tatkalBooking()
			.then((amount) => success(amount))
			.catch(failure);
		

		function success(amount) {
			//let amount = 0;
			document.write("Ticket booked successfully, pay Rs." + amount);
		}

		function failure() {
			document.write("Cant book the ticket");
		}

	</script>

	<hr>

	<h1 id="helo2" class="bg-danger p-1"></h1>

		<script>
			// Define a function that prints a message to the console
function sayHello() {
  document.getElementById("helo2").innerHTML = "hi im your set-timout 1"
}

// Call the function after 3 seconds using setTimeout  1000 is 1 sec
setTimeout(sayHello, 1000);

// Output: Hello, world! (after 3 seconds)

		</script>
	
	<h1 id="helo" class="bg-success p-1"></h1>

		<script>
			// Define a function that prints a message to the console
function sayHello() {
  document.getElementById("helo").innerHTML = "hi im your set-timout"
}

// Call the function after 3 seconds using setTimeout
setTimeout(sayHello, 3000);

// Output: Hello, world! (after 3 seconds)

		</script>
	</div>

</body>

</html>